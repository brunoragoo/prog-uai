<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DIARIO RAGO — Suscripción</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    .subscription {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 16px;
    }
    .subscription__title {
      margin-top: 0;
      margin-bottom: 12px;
      font-size: 1.4rem;
      line-height: 1.2;
    }
    .form-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
    .field { display: flex; flex-direction: column; gap: 6px; }
    .error-msg { font-size: 0.9rem; color: #b42318; display: none; }
    .field.error .error-msg { display: block; }
    .field.error input { border-color: #b42318; }
    .actions { display: flex; justify-content: center; padding-top: 8px; }
    @media (min-width: 1024px) {
      .form-grid { grid-template-columns: 1fr 1fr; }
      .span-2 { grid-column: 1 / -1; }
    }
  </style>
</head>
<body>
  <header class="top" role="banner">
    <div class="top__bar container">
      <div class="brand">
        <a class="brand__name" href="index.html" aria-label="Ir a la portada">DIARIO RAGO</a>
        <time class="brand__date" datetime="2025-09-29">Lunes 29 de septiembre de 2025</time>
      </div>
      <button class="menu-hamburguesa" aria-label="Abrir menú de navegación" aria-controls="site-nav" aria-expanded="false">☰</button>
      <nav id="site-nav" class="nav" aria-label="Secciones del diario">
        <a href="index.html">Inicio</a>
        <a href="#">Últimas</a>
        <a href="#">Deportes</a>
        <a href="#">Política</a>
        <a href="#">Economía</a>
        <a href="#">Tecnología</a>
        <a href="#">Espectáculos</a>
        <a href="#">Contacto</a>
      </nav>
    </div>
  </header>

  <aside class="ad ad--leaderboard container" aria-label="Publicidad">
    <img src="img/ad-728x90.png" alt="Publicidad 728x90" />
  </aside>

  <main class="container layout" role="main">
    <section class="main-col">
      <section class="subscription" aria-labelledby="form-title">
        <h1 id="form-title" class="subscription__title">¡ENTÉRATE DE TODO AL ÚLTIMO MOMENTO!</h1>
        <p class="meta" style="margin-top:-6px; margin-bottom:16px">Completá el formulario para suscribirte al DIARIO RAGO.</p>

        <form id="subscription-form" class="form-grid" novalidate>
          <div class="field span-2" id="group-nombre">
            <label for="nombreCompleto">Nombre completo</label>
            <input id="nombreCompleto" name="nombreCompleto" type="text" autocomplete="name" placeholder="Ej.: Juan Pérez" />
            <small class="error-msg" id="err-nombre"></small>
          </div>
          <div class="field" id="group-email">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" placeholder="tu@correo.com" />
            <small class="error-msg" id="err-email"></small>
          </div>
          <div class="field" id="group-telefono">
            <label for="telefono">Teléfono</label>
            <input id="telefono" name="telefono" type="text" inputmode="numeric" placeholder="Solo dígitos (ej.: 3515554444)" />
            <small class="error-msg" id="err-telefono"></small>
          </div>
          <div class="field" id="group-pass">
            <label for="password">Contraseña</label>
            <input id="password" name="password" type="password" placeholder="Mínimo 8, con letras y números" />
            <small class="error-msg" id="err-password"></small>
          </div>
          <div class="field" id="group-pass2">
            <label for="password2">Repetir contraseña</label>
            <input id="password2" name="password2" type="password" placeholder="Repetí la contraseña" />
            <small class="error-msg" id="err-password2"></small>
          </div>
          <div class="field" id="group-edad">
            <label for="edad">Edad</label>
            <input id="edad" name="edad" type="text" inputmode="numeric" placeholder="18 o más" />
            <small class="error-msg" id="err-edad"></small>
          </div>
          <div class="field span-2" id="group-direccion">
            <label for="direccion">Dirección</label>
            <input id="direccion" name="direccion" type="text" autocomplete="address-line1" placeholder="Ej.: San Martín 1234" />
            <small class="error-msg" id="err-direccion"></small>
          </div>
          <div class="field" id="group-ciudad">
            <label for="ciudad">Ciudad</label>
            <input id="ciudad" name="ciudad" type="text" autocomplete="address-level2" placeholder="Ej.: Rosario" />
            <small class="error-msg" id="err-ciudad"></small>
          </div>
          <div class="field" id="group-cp">
            <label for="cp">Código Postal</label>
            <input id="cp" name="cp" type="text" autocomplete="postal-code" placeholder="Ej.: 2000" />
            <small class="error-msg" id="err-cp"></small>
          </div>
          <div class="field span-2" id="group-dni">
            <label for="dni">DNI</label>
            <input id="dni" name="dni" type="text" inputmode="numeric" placeholder="7 u 8 dígitos" />
            <small class="error-msg" id="err-dni"></small>
          </div>
          <div class="field span-2" id="group-acepto">
            <label class="chk" for="acepto">
              <input id="acepto" type="checkbox" />
              <span>Acepto la política de privacidad</span>
            </label>
          </div>
          <div class="actions span-2">
            <button id="btnEnviar" type="submit" aria-describedby="submit-help">Enviar</button>
          </div>
        </form>
      </section>
    </section>
        <!-- === NOTICIAS (mismo contenido que tu portada) === -->
      <article class="card card--lead" id="noticia">
        <a class="card__media" href="#">
          <img src="img/us-open.png" alt="Medvedev discute con el juez en el US Open" />
        </a>
        <div class="card__body">
          <h1 class="card__title">
            Escándalo en el US Open: un fotógrafo interrumpió el partido y Medvedev estalló contra el juez
          </h1>
          <h2 class="card__subtitle">
            Benjamin Bonzi venció al ruso 6-3, 7-5, 6-7 (5), 0-6 y 6-4; un fotorreportero ingresó a la cancha durante el match point
          </h2>
          <p class="meta">
            <time datetime="2025-08-25">25 de agosto de 2025</time> — 08:17 — 3 min — <span>La Nación</span>
          </p>
          <p>
            La primera ronda del US Open tuvo un episodio insólito durante el partido entre Daniil Medvedev y Benjamin Bonzi, que terminó con la eliminación del ruso…
          </p>
          <p>
            El incidente ocurrió en el estadio Louis Armstrong… El juez Greg Allensworth le ordenó retirarse… Medvedev estalló contra la decisión arbitral…
          </p>
          <p>
            “¡Quiere irse a casa, chicos! No le gusta estar aquí. Le pagan por partido, ¡no por hora!”… Más tarde aclaró: “No estaba molesto con el fotógrafo…”.
          </p>
          <p>Finalmente, el francés cerró el partido con parciales de <strong>6-3, 7-5, 6-7 (5), 0-6 y 6-4</strong>…</p>
          <p class="fuente">Fuente: <a href="#" target="_blank" rel="noopener">Noticia original</a></p>
        </div>
      </article>

      <section class="grid grid--secundarias" aria-label="Noticias secundarias">
        <!-- Secundaria -->
        <article class="card card--secondary">
          <div class="card__body">
            <h3 class="card__title"><a href="#">El ranking ATP tras el US Open: cambios en el Top 10</a></h3>
            <p class="card__excerpt">La derrota de Medvedev y la actuación de Bonzi reacomodan posiciones claves de cara a la gira asiática…</p>
          </div>
        </article>

        <article class="card card--linkonly">
          <h3 class="card__title"><a href="#">Canchas techadas: la USTA acelera su plan de renovación</a></h3>
          <p class="meta">2 min • Deportes</p>
        </article>

        <article class="card card--secondary">
          <div class="card__body">
            <h3 class="card__title"><a href="#">Así se vivió la jornada nocturna en Flushing Meadows</a></h3>
            <p class="card__excerpt">Ambientazo, récord de asistentes y un cierre polémico que encendió las redes…</p>
          </div>
        </article>

        <article class="card card--linkonly">
          <h3 class="card__title"><a href="#">La agenda de hoy: horarios y TV de los argentinos</a></h3>
          <p class="meta">4 min • Guía</p>
        </article>
      </section>
  </main>

  <footer class="foot" role="contentinfo">
    <div class="container">© 2025 Diario Rago — Todos los derechos reservados</div>
  </footer>

  <script>
    (function(){
      const $ = (sel) => document.querySelector(sel);
      const nombre = $('#nombreCompleto');
      const email = $('#email');
      const password = $('#password');
      const password2 = $('#password2');
      const edad = $('#edad');
      const telefono = $('#telefono');
      const direccion = $('#direccion');
      const ciudad = $('#ciudad');
      const cp = $('#cp');
      const dni = $('#dni');
      const form = $('#subscription-form');
      const titulo = $('#form-title');

      function setError(inputEl, msg){
        const field = inputEl.closest('.field');
        field?.classList.add('error');
        const small = field?.querySelector('.error-msg');
        if (small) small.textContent = msg || '';
      }
      function clearError(inputEl){
        const field = inputEl.closest('.field');
        field?.classList.remove('error');
        const small = field?.querySelector('.error-msg');
        if (small) small.textContent = '';
      }
      function validarNombre(v){
        v = v.trim();
        const lettersOnly = (v.normalize('NFD').replace(/[^\p{L}]/gu, ''));
        const tieneEspacio = /\S+\s+\S+/.test(v);
        if (!tieneEspacio) return 'Ingresá nombre y apellido (con un espacio entre medio).';
        if (lettersOnly.length < 7) return 'Debe tener más de 6 letras en total.';
        return '';
      }
      function validarEmail(v){
        v = v.trim();
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;
        if (!re.test(v)) return 'Ingresá un email válido (ej.: nombre@dominio.com).';
        return '';
      }
      function validarPassword(v){
        if (v.length < 8) return 'Mínimo 8 caracteres.';
        if (!/[A-Za-z]/.test(v) || !/\d/.test(v)) return 'Debe incluir letras y números.';
        if (/[^A-Za-z0-9]/.test(v)) return 'Usá sólo letras y números.';
        return '';
      }
      function validarPassword2(p1, p2){
        if (!p2) return 'Repetí la contraseña.';
        if (p1 !== p2) return 'Las contraseñas no coinciden.';
        return '';
      }
      function validarEdad(v){
        v = v.trim();
        if (!/^\d+$/.test(v)) return 'Ingresá un número entero.';
        if (parseInt(v) < 18) return 'Debés ser mayor o igual a 18.';
        return '';
      }
      function validarTelefono(v){
        v = v.trim();
        if (!/^\d{7,}$/.test(v)) return 'Sólo dígitos, mínimo 7 (sin espacios, guiones ni paréntesis).';
        return '';
      }
      function validarDireccion(v){
        v = v.trim();
        if (v.length < 5) return 'Al menos 5 caracteres.';
        if (!/\s/.test(v)) return 'Incluí un espacio (ej.: Calle 123).';
        if (!/[A-Za-zÁÉÍÓÚÜÑáéíóúüñ]/.test(v) || !/\d/.test(v)) return 'Debe tener letras y números (ej.: San Martín 1234).';
        return '';
      }
      function validarCiudad(v){ if (v.trim().length < 3) return 'Mínimo 3 caracteres.'; return ''; }
      function validarCP(v){ if (v.trim().length < 3) return 'Mínimo 3 caracteres.'; return ''; }
      function validarDNI(v){ if (!/^\d{7,8}$/.test(v.trim())) return 'Debe ser un número de 7 u 8 dígitos.'; return ''; }

      const config = [
        {el: nombre, fn: () => validarNombre(nombre.value)},
        {el: email, fn: () => validarEmail(email.value)},
        {el: password, fn: () => validarPassword(password.value)},
        {el: password2, fn: () => validarPassword2(password.value, password2.value)},
        {el: edad, fn: () => validarEdad(edad.value)},
        {el: telefono, fn: () => validarTelefono(telefono.value)},
        {el: direccion, fn: () => validarDireccion(direccion.value)},
        {el: ciudad, fn: () => validarCiudad(ciudad.value)},
        {el: cp, fn: () => validarCP(cp.value)},
        {el: dni, fn: () => validarDNI(dni.value)}
      ];

      config.forEach(({el, fn}) => {
        el.addEventListener('blur', () => { const err = fn(); if (err) setError(el, err); else clearError(el); });
        el.addEventListener('focus', () => clearError(el));
      });

      function actualizarTitulo(){
        const v = (nombre.value || '').trim();
        titulo.textContent = v ? `¡ENTÉRATE DE TODO AL ÚLTIMO MOMENTO, ${v.toUpperCase()}!` : '¡ENTÉRATE DE TODO AL ÚLTIMO MOMENTO!';
      }
      nombre.addEventListener('keydown', () => setTimeout(actualizarTitulo, 0));
      nombre.addEventListener('focus', actualizarTitulo);

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const errores = [];
        config.forEach(({el, fn}) => {
          const err = fn();
          if (err) { setError(el, err); errores.push(`${el.previousElementSibling?.textContent || el.name}: ${err}`); }
        });
        if (errores.length) {
          alert('Revisá los siguientes errores:\n\n' + errores.join('\n'));
          return;
        }
        const resumen = [
          `Nombre completo: ${nombre.value}`,
          `Email: ${email.value}`,
          `Teléfono: ${telefono.value}`,
          `Edad: ${edad.value}`,
          `Dirección: ${direccion.value}`,
          `Ciudad: ${ciudad.value}`,
          `Código Postal: ${cp.value}`,
          `DNI: ${dni.value}`
        ].join('\n');
        alert('¡Suscripción enviada!\n\n' + resumen);
        form.reset();
        titulo.textContent = '¡ENTÉRATE DE TODO AL ÚLTIMO MOMENTO!';
        setTimeout(() => { window.location.href = 'index.html?suscripto=1'; }, 100);
      });
    })();
  </script>
</body>
</html>
